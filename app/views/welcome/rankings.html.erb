<div class="rankings">
  <h1 class="teal">Top Ten Users by Caption Score</h1>
  <h3 >(Aggregate number of upvotes minus downvotes for all captions the User created on a published image)</h3>
  <p>Total user count: <%= User.all.count %></p>

  <div class="ranking_table">
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th class="dotted">Name</th>
          <th class="dotted">Score</th>
        </tr>
      </thead>

      <tbody>
        <% @first_ten_users.each do |user| %>
          <tr>
            <td><%= @first_ten_users.index(user) + 1 %></td>
            <td  class="name dotted"><%= user.name %></td>
            <td  class="dotted"><%= user_caption_score(user) %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>

<div class="rankings">
  <h1 class="teal">Top Ten Users by Image Score</h1>
  <h3>(Aggregate number of upvotes minus downvotes for all images published from the User's account)</h3>
  <p>Total user count: <%= User.all.count %></p>


  <div class="ranking_table">
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th class="dotted">Name</th>
          <th class="dotted">Score</th>
        </tr>
      </thead>

      <tbody>
        <% @first_ten_users_img.each do |user| %>
          <tr>
            <td><%= @first_ten_users_img.index(user) + 1 %></td>
            <td  class="name dotted"><%= user.name %></td>
            <td  class="dotted"><%= user_image_score(user) %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

</div>

<div class="rankings">
  <h1 class="teal">Top Ten Captions</h1>
  <h3>(Number of upvotes minus downvotes [only on published images])</h3>
  <p>Total Caption Count (for published images): <%= @caption_count %></p>

  <div class="ranking_table">
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th class="dotted">Caption</th>
          <th class="dotted">Author</th>
          <th class="dotted">Score</th>
        </tr>
      </thead>

      <tbody>
        <% @top_ten_captions.each do |caption| %>
          <tr>
            <td><%= @top_ten_captions.index(caption) + 1 %></td>
            <td class="name dotted"><a href="/images/<%=caption.image.id%>"><div class="caption_wrap">"<%= caption.message %>"</div></a></td>
            <td class="dotted"><%= caption.user.name %></td>
            <td class="dotted"><%= caption_score(caption)%></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

</div>

<div class="rankings">
  <h1 class="teal">Top Ten Images</h1>
  <h3>(Number of upvotes minus downvotes for all captions for the image [only including published   images])</h3>
  <p>Total Image Count (published): <%= @image_count %></p>

  <div class="ranking_table">
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th class="dotted">Image</th>
          <th class="dotted">Publisher</th>
          <th class="dotted">Score</th>
        </tr>
      </thead>

      <tbody>
        <% @top_ten_images.each do |image| %>
          <tr>
            <td><%= @top_ten_images.index(image) + 1 %></td>
            <td class="name dotted"><a href="/images/<%= image.id %>"><img src="<%= image.image_url %>" style="width: 150px;"></a></td>
            <td class="dotted"><%= image.user.name %></td>
            <td class="dotted"><%= image_score(image)%></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>


</div>
